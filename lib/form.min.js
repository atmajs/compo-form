var _typeof3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*!
 * Form Component v0.10.23
 * Part of the Atma.js Project
 * http://atmajs.com/
 *
 * MIT license
 * http://opensource.org/licenses/MIT
 *
 * (c) 2012, 2017 Atma.js and other contributors
 */
!function(t,e){var n="undefined"!=typeof global?global:window,o=n.mask||n.atma&&n.atma.mask;if(null==o){if("function"!=typeof require)throw Error("MaskJS was not loaded");mask=require("maskjs")}e(n,o,o.Compo.config.getDOMLibrary())}(0,function(t,e,n){function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i,a,s,l="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)};!function(){a=function(t){return Object.prototype.toString.call(t).replace("[object ","").replace("]","")},function(){s=function(t){if(null==t||"object"!==(void 0===t?"undefined":l(t)))return t;var e,n=a(t);if("Date"===n)return new Date(t);if("Array"===n){e=[];for(var o=-1,r=t.length;++o<r;)e[o]=s(t[o]);return e}if("Object"===n){e={};for(var i in t)e[i]=s(t[i]);return e}return t}}(),i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return n;var o=a(t);if("Array"===o)return t.forEach(function(t,o){i(t,e+"["+o+"]",n)}),n;if("Object"===o){e&&(e+=".");var r,s,l;for(r in t)if(s=t[r],l=e+r,null!=s){var o=a(s);switch(o){case"Object":case"Array":i(s,l,n);continue;case"String":case"Number":case"Boolean":case"Blob":case"File":l in n&&console.warn("ToFormData: Overwrite property",l),n[l]=s;continue;case"Date":n[l]=s.toISOString();continue;default:console.error("Possible type violation",o),n[l]=s;continue}}return n}switch(o){case"Date":t=t.toISOString();break;case"String":case"Number":case"Boolean":case"Blob":case"File":break;default:console.error("Possible type violation",o)}return e in n&&console.warn("ToFormData: Overwrite property",e),n[e]=t,n}}();var u,l="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)};!function(){u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=i(e,n);for(var r in o){var a=null,s=o[r];"object"===(void 0===s?"undefined":l(s))&&s.fileName&&(a=s.fileName),null==a?t.append(r,s):t.append(r,s,a)}}}();var c;!function(){c=function(t,n){e.TreeWalker.walk(t,function(e){if(e!==t)return n(e)})}}();var d,f,h;!function(){d=function(n,o){return n.replace(t,function(t,n){var r=e.obj.get(o,n);return null==r?"":"/"+r})},h=function(e){var n=t.exec(e);return null==n?null:n[1]},f=function(e){return t.test(e)};var t=/\/:([\w\.]+)/}();var p,m,y,v;!function(){function t(t,e){t.toBlob(e,"image/jpeg",.9)}function e(t,e){n(URL.createObjectURL(t),e)}function n(t,e){var n=new Image;n.onload=function(){e(o(n))},n.src=t}function o(t,e,n,o,r){null==e&&(e=0,n=0,o=t.width,r=t.height);var i=document.createElement("canvas");i.width=o,i.height=r;var a=i.getContext("2d");return a.fillStyle="#ffffff",a.fillRect(0,0,o,r),a.drawImage(t,e,n,o,r,0,0,o,r),i}function r(t,e,n){var o=document.createElement("canvas");o.width=e,o.height=n;var r=t.width,i=t.height,a=r,s=i,l=0,u=0;if(Math.abs(e/n-r/i)>.05){e>n&&(s=r*n/e)>i&&(s=i,a=i*e/n),e<n&&(a=i*e/n)>r&&(a=r,s=r*n/e)}return l=(r-a)/2,u=(i-s)/2,o.getContext("2d").drawImage(t,l,u,a,s,0,0,e,n),o}p=function(t,e){var n=new window.FileReader;n.readAsDataURL(t),n.onloadend=function(){return e(n.result)}},m=function(t,e){var n=new Image;n.onload=function(){e(o(n))},n.src=URL.createObjectURL(t)},v=function(n,o,i,a){e(n,function(e){e=r(e,o,i),t(e,a)})},y=function(e,n,i,a){var s=o(e);s=r(s,n,i),t(s,a)}}();var b,l="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)};!function(){b=e.class.create(e.class.EventEmitter,e.class.Deferred,{constructor:function(t,e){this.url=t,this.method=e,this.xhr_=null,this.loadPercent=0,this.uploadPercent=0,this.headers={}},write:function(t){return this.data=t,"Object"===a(t)&&(this.data=JSON.stringify(t)),this},writeHeaders:function(t){return e.obj.extend(this.headers,t),this},setEndpoint:function(t,e){return this.url=t,this.method=e,this},isBusy:function(){return null!=this.xhr_},loading_:function(t){this.emit("progress","load",this.loadPercent=t)},uploading_:function(t){this.emit("progress","upload",this.uploadPercent=t)},readResponse_:function(t){var e=this.xhr_,n=e.responseText||"",o=e.getResponseHeader("content-type");if(null==o)return t(Error("Content-Type not set"));if(/json/i.test(o))try{n=JSON.parse(n)}catch(e){return t(Error("Json response malformed: "+String(e)))}return 200===e.status?t(null,n):t(this.toError_(e,n))},toError_:function(t,e){var n=t.status,o=t.responseText||t.statusText;return null!=e&&"object"===(void 0===e?"undefined":l(e))&&(n=e.status||n,o=e.message||e.error||o),new S(o,n)},complete_:function(t,e){if(this.loading_(100),this.xhr_=null,t)return this.emit("error",t),void this.reject(t);this.emit("complete",e),this.resolve(e)},send:function(){var t=this;if(this.isBusy())throw Error("Request is not reusable");var e=this.xhr_=new XMLHttpRequest;e.onload=function(){t.readResponse_(function(e,n){return t.complete_(e,n)})},e.upload&&(e.upload.onprogress=function(e){if(e.lengthComputable){var n=(e.loaded,e.total,e.loaded/e.total*100|0);return void t.uploading_(n)}if(t.uploadPercent<90)return void t.uploading_(t.uploadPercent+10);t.uploading_(100)}),e.open(this.method,this.url);for(var n in this.headers)e.setRequestHeader(n,this.headers[n]);return this.beforeSend(e),this.emit("start"),e.send(this.data),this},beforeSend:function(t){this.checkJQuery(t)},checkJQuery:function(t){var e=void 0!==n&&n||"undefined"!=typeof jQuery&&jQuery||null;e&&e.ajaxSettings&&e.ajaxSettings.beforeSend&&e.ajaxSettings.beforeSend(t)}})}();var g,x=(e.class.create({run:function(t){for(var e=this,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];this.error=null;var i,a=this[t];return o.unshift(this),a.forEach(function(t){e.error||(i=e.perform(t,o))}),i},perform_:function(t,e){var n="string"==typeof t?this[t]:t;try{return n.apply(null,e)}catch(t){this.error=t,this.throw_(t)}},throw_:function(t){throw t}}),e.class.create({body:null,headers:null,method:"POST",endpoint:window.location.href,contentType:"application/json",constructor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.body=t,this.headers=e.headers,e.endpoint&&(this.endpoint=e.endpoint),e.method&&(this.method=e.method),e.contentType&&(this.contentType=e.contentType)},get formData(){var e=new t.FormData;return u(e,this.body),e},serializeHeaders:function(){var t={};return!1===this.isFormData_()&&(t["Content-Type"]=this.contentType),e.obj.extend(t,this.headers)},serialize:function(){return null==this.body?null:this.isFormData_()?this.formData:JSON.stringify(this.body)},isFormData_:function(){return/form-data/i.test(this.contentType)}})),l="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)},k=e.class.createError("ValidationError",{constructor:function(t){null!=t&&"object"===(void 0===t?"undefined":l(t))&&(this.message=t.message||t.error||String(t))},message:""}),S=e.class.createError("HttpError",{status:500,message:"",constructor:function(t,e){this.status=e,this.message=t}});!function(){g={getJson:function(t){return new b(t,"GET").send()},getGetterEndpoint:function(t,e){var n=t.xGet,o="get"===n||!0===n?t.xAction:n;return d(o,e)},send:function(t){var e=t.endpoint,n=t.method,o=t.serialize();return new b(e,n).write(o).writeHeaders(t.serializeHeaders()).send()}}}();var w;!function(){w={process:function(t){var e;return c(t,function(t){var n=t.compoName;if((":dualbind"===n||"dualbind"===n)&&(e=t.provider.validate()))return{break:!0};var o=t.validateUi||t.validate;return null!=o&&(e=o.call(t))?{break:!0}:void 0}),e}}}();var E;!function(){function t(t){var r=t.model.entity,i=n(r,!0),a=e.obj.extend({},i);return c(t,function(t){var r=n(t,!1);if(r){var i=t.attr&&t.attr.property;return i&&(r=o({},i,r)),e.obj.extend(a,r),{deep:!1}}}),a}function n(t,e){if(null==t)return null;var n=t.toJson||t.toJSON;return null==n?e?t:null:n.call(t)}E={createMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getJson(t),o=e.contentType||t.xContentType,r=e.action||t.xAction,i=e.method||t.xMethod,a=e.headers||t.getHeaders(),s=h(r);return s&&(r=d(r,n),null!=n[s]&&(i=e.methodEdit||t.xMethodEdit)),new x(n,{contentType:o,endpoint:r,method:i,headers:a})},createDeleteMessage:function(t,e){var n=t.xAction,o=t.xContentType,r="DELETE",i=h(n);if(i){if(null==e[i])throw Error("`DELETE` method expects key in the model");n=d(n,e)}return new x(null,{contentType:o,endpoint:n,method:r})},getJson:function(e){var n=s(t(e)),o=e.transformData(n);return null!=o&&(n=o),n}}}();var _="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)},j=e.Compo({tagName:"form",builder:null,transport:null,model:null,entity:null,isNativeValidation:!1,meta:{attributes:{"form-type":"","content-type":"application/json",offset:0,method:"POST","method-edit":"PUT","detached-model":!1,action:window.location.href,get:"",redirect:"","in-memory":!1},template:"merge"},attr:{style:"position: relative;"},slots:{submit:"submit",delete:function(){this.removeEntity()}},events:{submit:function(t){t.preventDefault()},click:function(t){"BUTTON"===t.target.tagName&&!0!==this.isNativeValidation&&t.preventDefault()}},scope:{notificationMsg:"",notificationType:""},submit:function(t){t.preventDefault(),this.uploadEntity()},validate:function(){return w.process(this)},validateNative:function(){var t=this.$[0];return null==t.checkValidity?null:t.checkValidity()?null:(this.isNativeValidation=!0,n('<button style="display:none">').appendTo(this.$).click().remove(),this.isNativeValidation=!1,new Error)},activity:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];switch(this.emitIn.apply(this,["formActivity",t].concat(r(n))),t){case"start":case"end":this.signalState("submit","end"===t);break;case"error":this.emitOut("error",n[0])}},onRenderStart:function(t,n){var o=t||{};this.model={entity:o},this.ensureReflect_(),this.ensureCompo_("Notification"),this.ensureCompo_("Progress"),this.formLayout_();var r=e.jmask("+with (entity) > div");if(r.children().append(this.nodes),this.nodes=r,this.xGet)return this.model.entity=null,this.loadEntity(g.getGetterEndpoint(this,o))},setEntity:function(t){if(this.entity=t,this.notify(),!1===this.xDetachedModel)return void(this.model.entity=t);var n=this.model.entity||{};e.obj.extend(n,t),null==this.model.entity&&(this.model.entity=n)},getEntity:function(){return this.entity||this.model.entity},getHeaders:function(){},removeEntity:function(t){var e=this;this.activity("start");var n=t||this.getEntity(),o=E.createDeleteMessage(this,n);return g.send(o).fail(function(t){return e.errored_(t)}).done(function(t){e.activity("end","delete"),e.emitOut("complete",t),e.emitOut("formDelete",e.getEntity(),t)})},uploadEntity:function(){var t=this;if(!this.xhr||!this.xhr.isBusy()){var e=this.validateNative();if(!e){var e=this.validate();if(e)return void this.errored_(new k(e));if(this.xInMemory){var n=E.getJson(this);return void this.emitOut("complete",n)}var o=E.createMessage(this),e=this.validateData(o.body);if(e)return void this.errored_(new k(e));this.activity("start"),this.xhr=g.send(o).fail(function(e){return t.errored_(e)}).done(function(e){var n=e.message||"OK";if(t.xRedirect)return t.notify("success",n+". Redirecting..."),void(window.location.href=t.xRedirect);t.notify("success",n),t.activity("end","upload",e),t.emitOut("complete",e);var r=o.method.toLowerCase(),i=r[0].toUpperCase()+r.substring(1);t.emitOut("form"+i,e,t.getEntity())})}}},loadEntity:function(t){var e=this;return this.activity("start"),g.getJson(t).fail(function(t){return e.errored_(t)}).done(function(t){e.activity("end","load",t),e.setEntity(t),e.emitOut("formGet",t)})},transformData:function(t){return t},validateData:function(t){},toJson:function(){return E.getJson(this)},notify:function(t,e){0===arguments.length&&(t=e=""),this.scope.notificationType=t,this.scope.notificationMsg=e,this.emitIn("formNotification",{type:t,message:e})},ensureCompo_:function(t){0===jmask(this).children(t).length&&jmask(this).prepend(t)},ensureReflect_:function(){0===jmask(this).children().length&&jmask(this).prepend("Reflect")},formLayout_:function(){var t=this,e="form";this.xFormType&&(e+="-"+this.xFormType,0===this.xOffset&&"horizontal"===this.xFormType&&(this.xOffset=1)),jmask(this).addClass(e).children().each(function(e){return null!=e.attr&&(e.attr.offset=t.xOffset)})},throw_:function(t){this.nodes=e.parse("\n\t\t\tdiv style='background: red; color: white; padding: 15px; font-weight: bold' {\n\t\t\t\t\""+t.message+'"\n\t\t\t}\n\t\t')},errored_:function(t){this.activity("end"),this.activity("error",t),this.notify("danger",t.message||String(t))}}),l="function"==typeof Symbol&&"symbol"===_(Symbol.iterator)?function(t){return void 0===t?"undefined":_(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_(t)};e.define(j,"Reflect",{type:e.Dom.COMPONENT,renderStart:function(){function t(t,e){var n=jmask("@label").text(e.property);return jmask(t).attr(e).append(n)}var e=jmask(this),n=this.model;for(var o in n){var r=n[o];if(null!=r)switch(void 0===r?"undefined":l(r)){case"string":case"number":e.append(t("Input",{type:void 0===r?"undefined":l(r),placeholder:o,property:o}));continue;case"boolean":e.append(t("Checkbox",{property:o,text:o}));continue}}}}),e.define(j,"\n\t// source Controls/ItemLayout.mask\n\tlet ItemLayout {\n\t\t.form-group {\n\t\t\t\n\t\t\tlabel.control-label.col-sm-@[attr.offset] {\n\t\t\t\t@label;\n\t\t\t}\n\t\t\t\n\t\t\t.col-sm-@[12-attr.offset] {\n\t\t\t\t@content;\n\t\t\t\t@else > @element;\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Controls/ItemLayout.mask\n\t// source Controls/Notification.mask\n\tlet Notification as (div) {\n\t\t\n\t\tslot formNotification () {\n\t\t\tvar form = this.closest('a:form');\n\t\t\tif (!form.scope.notificationMsg) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar el = this.$.get(0);\n\t\t\tif (el) {\n\t\t\t\tel.scrollIntoView(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t@if (template) {\n\t\t\t@template;\n\t\t}\n\t\t@else {\n\t\t\t+if (notificationMsg) {\n\t\t\t\t.alert.alert-~[bind: $scope.notificationType] > '~[bind: $scope.notificationMsg ]'\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Controls/Notification.mask\n\t// source Controls/Progress.mask\n\tlet Progress {\n\t\tvar value = -1;\n\t\t\n\t\tslot formActivity (sender, type, name, percent) {\n\t\t\tif (type === 'start') {\n\t\t\t\tthis.$.fadeIn();\n\t\t\t}\n\t\t\tif (type === 'end') {\n\t\t\t\tthis.$.fadeOut();\n\t\t\t}\n\t\t\tif (type !== 'progress') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.scope.value = percent;\n\t\t}\n\t\t\n\t\t.-a-form-progress {\n\t\t\t\n\t\t\tprogress value='~[bind: $scope.value == -1 ? null : $scope.value]' max=100;\n\t\t\t\n\t\t\tstyle scoped {\n\t\t\t\t:host {\n\t\t\t\t\tbackground: rgba(0,0,0,.8);\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0; left: 0; width: 100%; height: 100%;\n\t\t\t\t\tz-index: 999;\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t\tprogress {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 50%;\n\t\t\t\t\tleft: 1%;\n\t\t\t\t\twidth: 98%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Controls/Progress.mask\n\t// source Controls/Dialog.mask\n\tlet Dialog {\n\t\tfunction show () {\n\t\t\tthis.$.modal('show');\n\t\t}\n\t\tfunction hide () {\n\t\t\tthis.$.modal('hide');\n\t\t}\n\t\t\n\t\tslot hide () {\n\t\t\tthis.hide();\n\t\t}\n\t\t\n\t\t.modal.fade\n\t\t\tdata-backdrop='@backdrop.attr.value'\n\t\t\tdata-keyboard='@keyboard.attr.value'\n\t\t\t\n\t\t> .modal-dialog > .modal-content {\n\t\t\t\t.modal-header {\n\t\t\t\t\t@if (backdrop.attr.value !== 'static') {\n\t\t\t\t\t\tbutton.close data-dismiss= modal > span > 'x';\n\t\t\t\t\t}\n\t\t\t\t\th4 .modal-title > @title;\n\t\t\t\t}\n\t\t\t\t@body > .modal-body style='position:relative; height:@attr.height' > @placeholder;\n\t\t\t\t.modal-footer {\n\t\t\t\t\t@footer;\n\t\t\t\t}\n\t\t\t}\n\t}\n\t// end:source Controls/Dialog.mask\n\n\t// source Editors/Array.mask\n\tlet Array {\n\t\t\n\t\tfunction getArray () {\n\t\t\tvar arr = mask.obj.get(this.model, this.attr.property);\n\t\t\tif (arr == null) {\n\t\t\t\tarr = [];\n\t\t\t\tmask.obj.set(this.model, this.attr.property, arr);\n\t\t\t}\n\t\t\treturn arr;\n\t\t}\n\t\t\n\t\tslot arrayItemRemove (event) {\n\t\t\tvar model = $(event.target).model(),\n\t\t\t\tarr = this.getArray(),\n\t\t\t\ti = arr.indexOf(model);\n\t\t\tarr.splice(i, 1);\n\t\t}\n\t\t\n\t\tslot arrayItemAdd () {\n\t\t\tvar arr = this.getArray(),\n\t\t\t\titem = {};\n\t\t\tarr.push(item);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tinclude ItemLayout {\n\t\t\t@element {\n\t\t\t\t@header;\n\t\t\t\tul.list-unstyled > +each (@attr.property) {\n\t\t\t\t\tli style='position:relative; padding: 0px 15px; box-sizing: border-box;' {\n\t\t\t\t\t\t@template;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t@footer;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t}\n\t\n\t// end:source Editors/Array.mask\n\t// source Editors/Checkbox.mask\n\tlet Checkbox {\n\t\tinclude ItemLayout {\n\t\t\t@element {\n\t\t\t\tlabel {\n\t\t\t\t\tinput type='checkbox' class='@[attr.class]'>\n\t\t\t\t\t\t:dualbind value='@attr.property';\n\t\t\t\t\t\n\t\t\t\t\tspan > ' @[attr.text]'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Editors/Checkbox.mask\n\t// source Editors/Input.mask\n\tlet Input {\n\t\tinclude ItemLayout {\n\t\t\t@element {\n\t\t\t\tinput\n\t\t\t\t\tclass = 'form-control @attr.class'\n\t\t\t\t\ttype='@[attr.type || \"text\"]'\n\t\t\t\t\tplaceholder='@attr.placeholder' >\n\t\t\t\t\t\n\t\t\t\t\t\t:dualbind value='@attr.property';\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// end:source Editors/Input.mask\n\t// source Editors/Select.mask\n\tlet Select {\n\t\tinclude ItemLayout {\n\t\t\t@element {\t\t\t\n\t\t\t\tselect .form-control {\n\t\t\t\t\t@if (option) {\n\t\t\t\t\t\t@each (option) > option value='@attr.value' {\n\t\t\t\t\t\t\t@placeholder;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t@if (template) {\n\t\t\t\t\t\t@template;\n\t\t\t\t\t}\n\t\t\t\t\tdualbind value='@attr.property';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Editors/Select.mask\n\t// source Editors/Radio.mask\n\tlet Radio {\n\t\tinclude ItemLayout {\n\t\t\t@element {\n\t\t\t\t\n\t\t\t\t@each (Option) > .radio > label {\n\t\t\t\t\tinput type = radio name='@attr.property' value='@attr.value' class='@attr.class' >\n\t\t\t\t\t\t:dualbind value='@attr.property';\n\t\t\t\t\t\t\n\t\t\t\t\t@placeholder;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Editors/Radio.mask\n\t// source Editors/Text.mask\n\tlet Text {\n\t\tinclude ItemLayout {\n\t\t\t@element {\n\t\t\t\ttextarea .form-control placeholder='@attr.placeholder'  rows='@[attr.rows || 4]' >\n\t\t\t\t\t:dualbind value='@attr.property';\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Editors/Text.mask\n\t// source Editors/Template.mask\n\tlet Template {\n\t\tinclude ItemLayout {\n\t\t\t@element > @template;\n\t\t}\n\t}\n\t// end:source Editors/Template.mask\n\t// source Editors/Hidden.mask\n\tinput type='hidden' name='@attr.property' >\n\t\tdualbind value='@attr.property';\n\t// end:source Editors/Hidden.mask\n\t// source Editors/Image.mask\n\tlet Image {\n\t\t\n\t\tvar meta = {\n\t\t\tattributes: {\n\t\t\t\tplaceholder: 'http://placehold.it/200x100',\n\t\t\t\tstyle: 'max-width:200px; max-height: 100px;'\n\t\t\t}\n\t\t};\n\t\t\n\t\tinclude ItemLayout {\n\t\t\t@element {\n\t\t\t\tImagePicker placeholder='~[: $.xPlaceholder]' style='~[: $.xStyle]' {\n\t\t\t\t\tdualbind\n\t\t\t\t\t\tvalue='@attr.property'\n\t\t\t\t\t\tdom-slot='imagePickerChanged'\n\t\t\t\t\t\tgetter='get'\n\t\t\t\t\t\tsetter='set';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlet ImagePicker {\n\t\t\n\t\tvar meta = {\n\t\t\tattributes: {\n\t\t\t\tplaceholder: '',\n\t\t\t\tstyle: ''\n\t\t\t},\n\t\t\ttemplate: 'join'\n\t\t};\n\t\t\n\t\tvar url  = '';\n\t\tvar blob = null;\n\t\t\n\t\tslot updateImage (event) {\n\t\t\tvar file = event.target.files[0];\t\t\n\t\t\tthis.set(file);\n\t\t\tthis.emitOut('imagePickerChanged', file);\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tfunction onRenderStart () {\n\t\t\tthis.scope.url = this.xPlaceholder;\n\t\t}\n\t\t\n\t\tfunction get () {\n\t\t\tif (this.scope.blob) {\n\t\t\t\treturn this.scope.blob;\n\t\t\t}\n\t\t\tif (this.scope.url && this.scope.url !== this.xPlaceholder) {\n\t\t\t\treturn this.scope.url;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tfunction set (val) {\n\t\t\tif (val == null) {\n\t\t\t\tthis.scope.blob = null;\n\t\t\t\tthis.scope.url = this.xPlaceholder;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof val === 'string') {\n\t\t\t\tthis.scope.blob = null;\n\t\t\t\tthis.scope.url = val;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.scope.url  = URL.createObjectURL(val);\n\t\t\tthis.scope.blob = val;\n\t\t}\n\t\t\n\t\ttable {\n\t\t\ttr > td > img src='~[bind: $scope.url]' style='~[: $.xStyle ]';\n\t\t\ttr > td {\n\t\t\t\tinput type='file' x-signal='change: updateImage';\n\t\t\t}\n\t\t}\n\t}\n\t// end:source Editors/Image.mask\n"),e.registerHandler("a:form",j)});
//# sourceMappingURL=form.min.js.map