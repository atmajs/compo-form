{"version":3,"file":"form.js","sources":["D:/atma/components/form/builds/form.js"],"names":["root","factory","_global","global","window","_mask","mask","atma","require","Error","Compo","config","getDOMLibrary","undefined","$","obj_toFlatObject","obj_getType","obj","Object","prototype","toString","call","replace","mix","prefix","out","arguments","type","_getType","forEach","x","i","key","prop","console","warn","error","form_append","form","name","data","filename","val","fileName","append","compo_walk","fn","TreeWalker","walk","compo","Xhr","create","EventEmitter","Deferred","constructor","url","method","this","xhr_","loadPercent","uploadPercent","headers","write","JSON","stringify","writeHeaders","extend","setEndpoint","isBusy","loading_","percent","emit","uploading_","readResponse_","xhr","response","responseText","getResponseHeader","test","parse","String","status","toError_","resp","message","statusText","HttpError","complete_","reject","resolve","send","_this","XMLHttpRequest","onload","upload","onprogress","event","lengthComputable","loaded","total","open","setRequestHeader","Transport","Message","run","_len","length","args","Array","_key","result","actions","unshift","perform","perform_","apply","throw_","defineProperties","body","endpoint","location","href","contentType","params","contenType","serializeHeaders","Content-Type","serialize","formData","get","FormData","configurable","enumerable","ValidationError","createError","getJson","Validation","process","formCompo","compoName","provider","validate","break","validateUi","Builder","model","toJson","toJSON","json","deep","createMessage","xContenType","action","xAction","xMethod","FormDataCompo","tagName","builder","transport","meta","attributes","form-type","content-type","offset","redirect","template","attr","style","slots","submit","events","preventDefault","scope","notificationMsg","notificationType","activity","emitIn","concat","signalState","onRenderStart","ctx","ensureReflect_","ensureCompo_","formLayout_","xGet","load","fail","errored_","done","updateModel_","notify","xRedirect","set","jmask","children","prepend","klass","xFormType","xOffset","addClass","each","nodes","Template","registerFromTemplate","registerHandler","Dom","COMPONENT","renderStart","createElement","label","text","property","placeholder"],"mappings":"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"}